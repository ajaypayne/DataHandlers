<?php
/**
 * @copyright Copyright (c) 2017. Eckoh UK Ltd.
 * @author Blake Payne <ajaypayne@gmail.com>
 * @maintainer Blake Payne <ajaypayne@gmail.com>
 */

$xmlString = <<<EOD
<?xml version="1.0" encoding="UTF-8"?>
<syndications>
    <DEV>
        <lebara>
            <dnis>111797</dnis>
        </lebara>
        <lebara_bundles>
            <dnis>111724</dnis>
        </lebara_bundles>
        <lebara-DE-GER>
            <dnis>1353800459</dnis>
        </lebara-DE-GER>
        <lebara-DE-POL>
            <dnis>1353800460</dnis>
        </lebara-DE-POL>
        <lebara-FR-FRE>
            <dnis>1353800461</dnis>
        </lebara-FR-FRE>
        <lebara-SP-SPN>
            <dnis>111716</dnis>
        </lebara-SP-SPN>
        <lebara-DK-DAN>
            <dnis>111763</dnis>
        </lebara-DK-DAN>
        <lebara-DK-ENG>
            <dnis>1353800462</dnis>
        </lebara-DK-ENG>
        <lebara-AT-ENG>
            <dnis>111702</dnis>
        </lebara-AT-ENG>
        <lebara-BE-ENG>
            <dnis>111705</dnis>
        </lebara-BE-ENG>
        <lebara-BE-ITA>
            <dnis>111709</dnis>
        </lebara-BE-ITA>
        <lebara-BE-ARA>
            <dnis>111710</dnis>
        </lebara-BE-ARA>
        <lebara-CA-ENG>
            <dnis>111724</dnis>
        </lebara-CA-ENG>
        <lebara-CA-MAN>
            <dnis>111725</dnis>
        </lebara-CA-MAN>
        <lebara-CA-SPN>
            <dnis>111726</dnis>
        </lebara-CA-SPN>
        <lebara-GR-ENG>
            <dnis>111728</dnis>
        </lebara-GR-ENG>
        <lebara-HK-ENG>
            <dnis>111738</dnis>
        </lebara-HK-ENG>
        <lebara-HK-IND>
            <dnis>111740</dnis>
        </lebara-HK-IND>
        <lebara-IT-ENG>
            <dnis>111747</dnis>
        </lebara-IT-ENG>
        <lebara-IT-MAN>
            <dnis>111750</dnis>
        </lebara-IT-MAN>
        <lebara-IT-ARA>
            <dnis>111757</dnis>
        </lebara-IT-ARA>
        <lebara-IT-ITA>
            <dnis>111759</dnis>
        </lebara-IT-ITA>
        <lebara-MY-IND>
            <dnis>111760</dnis>
        </lebara-MY-IND>
        <lebara-MY-ENG>
            <dnis>111762</dnis>
        </lebara-MY-ENG>
        <lebara-MY-ARA>
            <dnis>111773</dnis>
        </lebara-MY-ARA>
        <lebara-MY-MAN>
            <dnis>111775</dnis>
        </lebara-MY-MAN>
        <lebara-NZ-MAN>
            <dnis>111780</dnis>
        </lebara-NZ-MAN>
        <lebara-NZ-ENG>
            <dnis>781</dnis>
        </lebara-NZ-ENG>
        <lebara-PT-ENG>
            <dnis>111782</dnis>
        </lebara-PT-ENG>
        <lebara-PT-SPN>
            <dnis>111788</dnis>
        </lebara-PT-SPN>
        <lebara-SG-ENG>
            <dnis>111794</dnis>
        </lebara-SG-ENG>
        <lebara-SG-MAN>
            <dnis>111795</dnis>
        </lebara-SG-MAN>
        <lebara-SE-ENG>
            <dnis>111801</dnis>
        </lebara-SE-ENG>
        <lebara-UK-POL>
            <dnis></dnis>
        </lebara-UK-POL>
        <lebara-UK-POL_bundles>
            <dnis></dnis>
        </lebara-UK-POL_bundles>
        <lebara-UK-ROM>
            <dnis></dnis>
        </lebara-UK-ROM>
        <lebara-UK-ROM_bundles>
            <dnis></dnis>
        </lebara-UK-ROM_bundles>
        <lebara-US-ENG>
            <dnis>111729</dnis>
        </lebara-US-ENG>
    </DEV>
    <UAT>
        <lebara>
            <dnis>111613</dnis>
        </lebara>
        <lebara-DE-GER>
            <dnis>1353800500</dnis>
        </lebara-DE-GER>
        <lebara-DE-POL>
            <dnis>1353800501</dnis>
        </lebara-DE-POL>
        <lebara-FR-FRE>
            <dnis>1353800502</dnis>
        </lebara-FR-FRE>
        <lebara-SP-SPN>
            <dnis>1353800503</dnis>
        </lebara-SP-SPN>
        <lebara-DK-DAN>
            <dnis>111614</dnis>
        </lebara-DK-DAN>
        <lebara-DK-ENG>
            <dnis>111615</dnis>
        </lebara-DK-ENG>
        <lebara-AT-ENG>
            <dnis>1353800525</dnis>
        </lebara-AT-ENG>
        <lebara-BE-ENG>
            <dnis>1353800526</dnis>
        </lebara-BE-ENG>
        <lebara-BE-ITA>
            <dnis>1353800527</dnis>
        </lebara-BE-ITA>
        <lebara-BE-ARA>
            <dnis>1353800528</dnis>
        </lebara-BE-ARA>
        <lebara-CA-ENG>
            <dnis>1353800529</dnis>
        </lebara-CA-ENG>
        <lebara-CA-MAN>
            <dnis>1353800530</dnis>
        </lebara-CA-MAN>
        <lebara-CA-SPN>
            <dnis>1353800531</dnis>
        </lebara-CA-SPN>
        <lebara-GR-ENG>
            <dnis>1353800532</dnis>
        </lebara-GR-ENG>
        <lebara-HK-ENG>
            <dnis>1353800533</dnis>
        </lebara-HK-ENG>
        <lebara-HK-IND>
            <dnis>1353800534</dnis>
        </lebara-HK-IND>
        <lebara-IT-ENG>
            <dnis>1353800535</dnis>
        </lebara-IT-ENG>
        <lebara-IT-MAN>
            <dnis>1353800536</dnis>
        </lebara-IT-MAN>
        <lebara-IT-ARA>
            <dnis>1353800537</dnis>
        </lebara-IT-ARA>
        <lebara-IT-ITA>
            <dnis>1353800538</dnis>
        </lebara-IT-ITA>
        <lebara-MY-IND>
            <dnis>1353800539</dnis>
        </lebara-MY-IND>
        <lebara-MY-ENG>
            <dnis>1353800540</dnis>
        </lebara-MY-ENG>
        <lebara-MY-ARA>
            <dnis>1353800541</dnis>
        </lebara-MY-ARA>
        <lebara-MY-MAN>
            <dnis>1353800542</dnis>
        </lebara-MY-MAN>
        <lebara-NZ-MAN>
            <dnis>1353800543</dnis>
        </lebara-NZ-MAN>
        <lebara-NZ-ENG>
            <dnis>1353800544</dnis>
        </lebara-NZ-ENG>
        <lebara-PT-ENG>
            <dnis>1353800545</dnis>
        </lebara-PT-ENG>
        <lebara-PT-SPN>
            <dnis>1353800546</dnis>
        </lebara-PT-SPN>
        <lebara-SG-ENG>
            <dnis>1353800547</dnis>
        </lebara-SG-ENG>
        <lebara-SG-MAN>
            <dnis>1353800548</dnis>
        </lebara-SG-MAN>
        <lebara-SE-ENG>
            <dnis>1353800549</dnis>
        </lebara-SE-ENG>
        <lebara-UK-POL>
            <dnis></dnis>
        </lebara-UK-POL>
        <lebara-UK-POL_bundles>
            <dnis></dnis>
        </lebara-UK-POL_bundles>
        <lebara-UK-ROM>
            <dnis></dnis>
        </lebara-UK-ROM>
        <lebara-UK-ROM_bundles>
            <dnis></dnis>
        </lebara-UK-ROM_bundles>
        <lebara-US-ENG>
            <dnis>111982</dnis>
        </lebara-US-ENG>
    </UAT>
    <PROD_IX>
        <lebara>
            <dnis>1628650657</dnis>
            <dnis>1902699436</dnis>
            <dnis>2088959730</dnis>
            <dnis>2082128222</dnis>
            <dnis>2082128990</dnis>
            <dnis>111498</dnis>
        </lebara>
        <lebara-DE-GER>
            <dnis>1628650661</dnis>
            <dnis>1902699441</dnis>
            <dnis>2082128226</dnis>
            <dnis>2082128991</dnis>
            <dnis>2082128997</dnis>
        </lebara-DE-GER>
        <lebara-DE-POL>
            <dnis>1628650662</dnis>
            <dnis>1902699442</dnis>
            <dnis>2082128227</dnis>
            <dnis>2082128992</dnis>
            <dnis>2082128998</dnis>
        </lebara-DE-POL>
        <lebara-FR-FRE>
            <dnis>1628650664</dnis>
            <dnis>1902699444</dnis>
            <dnis>2082128229</dnis>
            <dnis>2082128993</dnis>
            <dnis>111518</dnis>
        </lebara-FR-FRE>
        <lebara-SP-SPN>
            <dnis>1628650663</dnis>
            <dnis>1902699443</dnis>
            <dnis>2082128228</dnis>
            <dnis>2082128994</dnis>
            <dnis>2082128999</dnis>
            <dnis>111517</dnis>
        </lebara-SP-SPN>
        <lebara-DK-ENG>
            <dnis>2088959744</dnis>
            <dnis>1902699461</dnis>
            <dnis>2082128042</dnis>
        </lebara-DK-ENG>
        <lebara-DK-DAN>
            <dnis>2088959745</dnis>
            <dnis>1902699462</dnis>
            <dnis>2082128149</dnis>
            <dnis>2082128996</dnis>
        </lebara-DK-DAN>

        <lebara-AT-ENG>
            <dnis>2088959850</dnis>
            <dnis>2082128424</dnis>
            <dnis>1902699553</dnis>
        </lebara-AT-ENG>
        <lebara-BE-ENG>
            <dnis>2088959848</dnis>
            <dnis>2082128422</dnis>
            <dnis>1902699551</dnis>
        </lebara-BE-ENG>
        <lebara-BE-ITA>
            <dnis>2088959846</dnis>
            <dnis>2082128420</dnis>
            <dnis>1902699549</dnis>
        </lebara-BE-ITA>
        <lebara-BE-ARA>
            <dnis>2088959847</dnis>
            <dnis>2082128421</dnis>
            <dnis>1902699550</dnis>
        </lebara-BE-ARA>
        <lebara-CA-ENG>
            <dnis>2088959855</dnis>
            <dnis>2082128429</dnis>
            <dnis>1902699558</dnis>
        </lebara-CA-ENG>
        <lebara-CA-MAN>
            <dnis>2088959854</dnis>
            <dnis>2082128428</dnis>
            <dnis>1902699557</dnis>
        </lebara-CA-MAN>
        <lebara-CA-SPN>
            <dnis>2088959856</dnis>
            <dnis>2082128430</dnis>
            <dnis>1902699559</dnis>
        </lebara-CA-SPN>
        <lebara-GR-ENG>
            <dnis>2088959849</dnis>
            <dnis>2082128423</dnis>
            <dnis>1902699552</dnis>
        </lebara-GR-ENG>
        <lebara-HK-ENG>
            <dnis>2088959866</dnis>
            <dnis>2082128440</dnis>
            <dnis>1902699569</dnis>
        </lebara-HK-ENG>
        <lebara-HK-IND>
            <dnis>2088959865</dnis>
            <dnis>2082128439</dnis>
            <dnis>1902699568</dnis>
        </lebara-HK-IND>
        <lebara-IT-ENG>
            <dnis>2088959845</dnis>
            <dnis>2082128419</dnis>
            <dnis>1902699548</dnis>
        </lebara-IT-ENG>
        <lebara-IT-MAN>
            <dnis>2088959844</dnis>
            <dnis>2082128418</dnis>
            <dnis>1902699547</dnis>
        </lebara-IT-MAN>
        <lebara-IT-ARA>
            <dnis>2088959843</dnis>
            <dnis>2082128417</dnis>
            <dnis>1902699546</dnis>
        </lebara-IT-ARA>
        <lebara-IT-ITA>
            <dnis>2088959842</dnis>
            <dnis>2082128416</dnis>
            <dnis>1902699545</dnis>
        </lebara-IT-ITA>
        <lebara-MY-IND>
            <dnis>2088959859</dnis>
            <dnis>2082128433</dnis>
            <dnis>1902699562</dnis>
        </lebara-MY-IND>
        <lebara-MY-ENG>
            <dnis>2088959860</dnis>
            <dnis>2082128434</dnis>
            <dnis>1902699563</dnis>
        </lebara-MY-ENG>
        <lebara-MY-ARA>
            <dnis>2088959861</dnis>
            <dnis>2082128435</dnis>
            <dnis>1902699564</dnis>
        </lebara-MY-ARA>
        <lebara-MY-MAN>
            <dnis>2088959862</dnis>
            <dnis>2082128436</dnis>
            <dnis>1902699565</dnis>
        </lebara-MY-MAN>
        <lebara-NZ-MAN>
            <dnis>2088959863</dnis>
            <dnis>2082128437</dnis>
            <dnis>1902699566</dnis>
        </lebara-NZ-MAN>
        <lebara-NZ-ENG>
            <dnis>2088959864</dnis>
            <dnis>2082128438</dnis>
            <dnis>1902699567</dnis>
        </lebara-NZ-ENG>
        <lebara-PT-ENG>
            <dnis>2088959852</dnis>
            <dnis>2082128426</dnis>
            <dnis>1902699555</dnis>
        </lebara-PT-ENG>
        <lebara-PT-SPN>
            <dnis>2088959853</dnis>
            <dnis>2082128427</dnis>
            <dnis>1902699556</dnis>
        </lebara-PT-SPN>
        <lebara-SG-ENG>
            <dnis>2088959858</dnis>
            <dnis>2082128432</dnis>
            <dnis>1902699561</dnis>
        </lebara-SG-ENG>
        <lebara-SG-MAN>
            <dnis>2088959857</dnis>
            <dnis>2082128431</dnis>
            <dnis>1902699560</dnis>
        </lebara-SG-MAN>
        <lebara-SE-ENG>
            <dnis>2088959851</dnis>
            <dnis>2082128425</dnis>
            <dnis>1902699554</dnis>
        </lebara-SE-ENG>
        <lebara-UK-POL>
            <dnis></dnis>
        </lebara-UK-POL>
        <lebara-UK-POL_bundles>
            <dnis></dnis>
        </lebara-UK-POL_bundles>
        <lebara-UK-ROM>
            <dnis></dnis>
        </lebara-UK-ROM>
        <lebara-UK-ROM_bundles>
            <dnis></dnis>
        </lebara-UK-ROM_bundles>
        <lebara-US-ENG>
            <dnis>2088959998</dnis>
            <dnis>2082128450</dnis>
            <dnis>1902699795</dnis>
            <dnis>2082128996</dnis>
            <dnis>111517</dnis>
        </lebara-US-ENG>
    </PROD_IX>
    <PROD_SA>
        <lebara>
            <dnis>1628650657</dnis>
            <dnis>1902699436</dnis>
            <dnis>2088959730</dnis>
            <dnis>2082128222</dnis>
            <dnis>2082128990</dnis>
            <dnis>2082128996</dnis>
            <dnis>111517</dnis>
        </lebara>
        <lebara-DE-GER>
            <dnis>1628650661</dnis>
            <dnis>1902699441</dnis>
            <dnis>2082128226</dnis>
            <dnis>2082128991</dnis>
            <dnis>2082128997</dnis>
        </lebara-DE-GER>
        <lebara-DE-POL>
            <dnis>1628650662</dnis>
            <dnis>1902699442</dnis>
            <dnis>2082128227</dnis>
            <dnis>2082128992</dnis>
            <dnis>2082128998</dnis>
        </lebara-DE-POL>
        <lebara-FR-FRE>
            <dnis>1628650664</dnis>
            <dnis>1902699444</dnis>
            <dnis>2082128229</dnis>
            <dnis>2082128993</dnis>
            <dnis>111518</dnis>
        </lebara-FR-FRE>
        <lebara-SP-SPN>
            <dnis>1628650663</dnis>
            <dnis>1902699443</dnis>
            <dnis>2082128228</dnis>
            <dnis>2082128994</dnis>
            <dnis>2082128999</dnis>
        </lebara-SP-SPN>
        <lebara-DK-ENG>
            <dnis>2088959744</dnis>
            <dnis>1902699461</dnis>
            <dnis>2082128042</dnis>
        </lebara-DK-ENG>
        <lebara-DK-DAN>
            <dnis>2088959745</dnis>
            <dnis>1902699462</dnis>
            <dnis>2082128149</dnis>
            <dnis>111517</dnis>
        </lebara-DK-DAN>

        <lebara-AT-ENG>
            <dnis>2088959850</dnis>
            <dnis>2082128424</dnis>
            <dnis>1902699553</dnis>
        </lebara-AT-ENG>
        <lebara-BE-ENG>
            <dnis>2088959848</dnis>
            <dnis>2082128422</dnis>
            <dnis>1902699551</dnis>
        </lebara-BE-ENG>
        <lebara-BE-ITA>
            <dnis>2088959846</dnis>
            <dnis>2082128420</dnis>
            <dnis>1902699549</dnis>
        </lebara-BE-ITA>
        <lebara-BE-ARA>
            <dnis>2088959847</dnis>
            <dnis>2082128421</dnis>
            <dnis>1902699550</dnis>
        </lebara-BE-ARA>
        <lebara-CA-ENG>
            <dnis>2088959855</dnis>
            <dnis>2082128429</dnis>
            <dnis>1902699558</dnis>
        </lebara-CA-ENG>
        <lebara-CA-MAN>
            <dnis>2088959854</dnis>
            <dnis>2082128428</dnis>
            <dnis>1902699557</dnis>
        </lebara-CA-MAN>
        <lebara-CA-SPN>
            <dnis>2088959856</dnis>
            <dnis>2082128430</dnis>
            <dnis>1902699559</dnis>
        </lebara-CA-SPN>
        <lebara-GR-ENG>
            <dnis>2088959849</dnis>
            <dnis>2082128423</dnis>
            <dnis>1902699552</dnis>
        </lebara-GR-ENG>
        <lebara-HK-ENG>
            <dnis>2088959866</dnis>
            <dnis>2082128440</dnis>
            <dnis>1902699569</dnis>
        </lebara-HK-ENG>
        <lebara-HK-IND>
            <dnis>2088959865</dnis>
            <dnis>2082128439</dnis>
            <dnis>1902699568</dnis>
        </lebara-HK-IND>
        <lebara-IT-ENG>
            <dnis>2088959845</dnis>
            <dnis>2082128419</dnis>
            <dnis>1902699548</dnis>
        </lebara-IT-ENG>
        <lebara-IT-MAN>
            <dnis>2088959844</dnis>
            <dnis>2082128418</dnis>
            <dnis>1902699547</dnis>
        </lebara-IT-MAN>
        <lebara-IT-ARA>
            <dnis>2088959843</dnis>
            <dnis>2082128417</dnis>
            <dnis>1902699546</dnis>
        </lebara-IT-ARA>
        <lebara-IT-ITA>
            <dnis>2088959842</dnis>
            <dnis>2082128416</dnis>
            <dnis>1902699545</dnis>
        </lebara-IT-ITA>
        <lebara-MY-IND>
            <dnis>2088959859</dnis>
            <dnis>2082128433</dnis>
            <dnis>1902699562</dnis>
        </lebara-MY-IND>
        <lebara-MY-ENG>
            <dnis>2088959860</dnis>
            <dnis>2082128434</dnis>
            <dnis>1902699563</dnis>
        </lebara-MY-ENG>
        <lebara-MY-ARA>
            <dnis>2088959861</dnis>
            <dnis>2082128435</dnis>
            <dnis>1902699564</dnis>
        </lebara-MY-ARA>
        <lebara-MY-MAN>
            <dnis>2088959862</dnis>
            <dnis>2082128436</dnis>
            <dnis>1902699565</dnis>
        </lebara-MY-MAN>
        <lebara-NZ-MAN>
            <dnis>2088959863</dnis>
            <dnis>2082128437</dnis>
            <dnis>1902699566</dnis>
        </lebara-NZ-MAN>
        <lebara-NZ-ENG>
            <dnis>2088959864</dnis>
            <dnis>2082128438</dnis>
            <dnis>1902699567</dnis>
        </lebara-NZ-ENG>
        <lebara-PT-ENG>
            <dnis>2088959852</dnis>
            <dnis>2082128426</dnis>
            <dnis>1902699555</dnis>
        </lebara-PT-ENG>
        <lebara-PT-SPN>
            <dnis>2088959853</dnis>
            <dnis>2082128427</dnis>
            <dnis>1902699556</dnis>
        </lebara-PT-SPN>
        <lebara-SG-ENG>
            <dnis>2088959858</dnis>
            <dnis>2082128432</dnis>
            <dnis>1902699561</dnis>
        </lebara-SG-ENG>
        <lebara-SG-MAN>
            <dnis>2088959857</dnis>
            <dnis>2082128431</dnis>
            <dnis>1902699560</dnis>
        </lebara-SG-MAN>
        <lebara-SE-ENG>
            <dnis>2088959851</dnis>
            <dnis>2082128425</dnis>
            <dnis>1902699554</dnis>
        </lebara-SE-ENG>
        <lebara-UK-POL>
            <dnis></dnis>
        </lebara-UK-POL>
        <lebara-UK-POL_bundles>
            <dnis></dnis>
        </lebara-UK-POL_bundles>
        <lebara-UK-ROM>
            <dnis></dnis>
        </lebara-UK-ROM>
        <lebara-UK-ROM_bundles>
            <dnis></dnis>
        </lebara-UK-ROM_bundles>
        <lebara-US-ENG>
            <dnis>2088959998</dnis>
            <dnis>2082128450</dnis>
            <dnis>1902699795</dnis>
            <dnis>2082128996</dnis>
            <dnis>111517</dnis>
        </lebara-US-ENG>
    </PROD_SA>
</syndications>
EOD;
$xml = new SimpleXMLElement($xmlString);
$newXmlString = '<?xml version="1.0" encoding="UTF-8"?><syndications>';
foreach ($xml as $envName => $env) {
    $newXmlString .= "<$envName>";
    foreach ($env as $syndicateName => $details) {        $newXmlString .= "<LauraAshleyIVRCallGuard-$syndicateName>";
        $newXmlString .= "<internalProtocol>http://</internalProtocol>";
        $newXmlString .= "<serviceName>LauraAshleyIVRCallGuard-$syndicateName</serviceName>";
        $newXmlString .= "</LauraAshleyIVRCallGuard-$syndicateName>";
    }
    $newXmlString .= "</$envName>";
}
$newXmlString .= "</syndications>";
var_dump($newXmlString);